%tr
  %th
    - if category.subcategories.exists?
      %a{"aria-controls": "collapse#{category.id}",
         "aria-expanded": "true",
         "data-bs-target": "#collapse#{category.id}",
         "data-bs-toggle": "collapse",
         type: "button",
         class: "wallet-accordion-button"}
        %i.fa-solid.fa-caret-down.green

  %th{ scope: 'row' }
    = category.name
  %td
    = category.description
  %td
    .action-column
      = link_to new_category_subcategory_path(category), 'data-controller': 'turbo',
                                                          title: 'Add Subcategory' do
        %i.fa-solid.fa-folder-tree.blue

      = link_to edit_category_path(category), 'data-controller': 'turbo',
                                                  title: 'Edit Category' do
        %i.fa-solid.fa-pencil
      = link_to category_path(category), data: { turbo_method: :delete,
                                                 turbo_confirm: 'Are you sure that you want to delete this category?' },
                                             title: 'Delete Category' do
        %i.fa-solid.fa-trash
